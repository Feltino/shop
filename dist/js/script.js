$(".win__b").on("click",function(){$(".win__c").toggleClass("highlight")}),$(".win__b-2").on("click",function(){$(".win__c-2").toggleClass("highlight")}),$(".win__b-3").on("click",function(){$(".win__c-3").toggleClass("highlight")}),$(".win__b-4").on("click",function(){$(".win__c-4").toggleClass("highlight")}),$(".head__search").on("click",function(){$(".ve-menu").toggleClass("highdark"),$(".head__cls").toggleClass("highlight"),$(".head__search").toggleClass("highdark"),$(".head__srch").toggleClass("highlight")}),function(o,e){var t=o(".ve-menu-pc"),i=t.children("li").children("a"),s=t.find("ul").find("a"),n=t.find("ul").length,l=function(e){this.themeColor={blue:{fontColor:"#fff",bgColor:"#293547",hoverFontColor:"#fff",hoverBgColor:"#1260de"},dark:{fontColor:"#9D9D9D",bgColor:"#1F1F1F",hoverFontColor:"#fff",hoverBgColor:"#000"}},this.defaults={firstFontSize:"16px",firstFontColor:this.themeColor.blue.fontColor,firstBgColor:this.themeColor.blue.bgColor,firstHoverFontColor:this.themeColor.blue.hoverFontColor,firstHoverBgColor:this.themeColor.blue.hoverBgColor,secondFontSize:"16px",secondFontColor:this.themeColor.blue.fontColor,secondBgColor:this.themeColor.blue.bgColor,secondHoverFontColor:this.themeColor.blue.hoverFontColor,secondHoverBgColor:this.themeColor.blue.hoverBgColor,height:59,itemWidth:20,itemMargin:1,theme:"blue",menuIconColor:"#000",menuMaskColor:"#000",mFirstBgColor:"#000",mFirstFontColor:"#fff",mSecondBgColor:"#222",mSecondFontColor:"#fff",closeIconColor:"#fff",animate:!1,speed:200},this.settings=o.extend({},this.defaults,e),this.isMobile=!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/)};l.prototype={setDefaultTheme:function(){function e(o,e){i.css({color:o,backgroundColor:e}),s.css({color:o,backgroundColor:e})}function n(e,i){var s;t.find("a").hover(function(){var t=o(this);t.css("color"),s=t.css("backgroundColor"),t.css({color:e,backgroundColor:i})},function(){o(this).css({color:void 0,backgroundColor:s})})}switch(this.settings.theme){case"blue":e(this.themeColor.blue.fontColor,this.themeColor.blue.bgColor),!this.isMobile&&n(this.themeColor.blue.hoverFontColor,this.themeColor.blue.hoverBgColor);break;case"dark":e(this.themeColor.dark.fontColor,this.themeColor.dark.bgColor),!this.isMobile&&n(this.themeColor.dark.hoverFontColor,this.themeColor.dark.hoverBgColor)}return this},setFirstMenu:function(){var e=this;return i.css({height:e.settings.height,lineHeight:e.settings.height+"px",fontSize:e.settings.firstFontSize,color:e.settings.firstFontColor,backgroundColor:e.settings.firstBgColor}).parent("li").each(function(t,i){var s=o(this);s.width(s.width()+e.settings.itemWidth)}).not(t.children("li").first()).css({marginLeft:this.settings.itemMargin+"px"}),e},setSecondMenu:function(){var e=this;return n&&(s.css({height:e.settings.height,lineHeight:e.settings.height+"px",fontSize:e.settings.secondFontSize,color:e.settings.secondFontColor,backgroundColor:e.settings.secondBgColor}),o.each(i,function(t,s){var n=o(this).next("ul");n.css("top",e.settings.height),n.width()+e.settings.itemWidth<i.width()?n.width(i.width()):n.width(n.width()+e.settings.itemWidth)})),e},setHoverCss:function(){var e=this;i.hover(function(){o(this).css({color:e.settings.firstHoverFontColor,backgroundColor:e.settings.firstHoverBgColor})},function(){o(this).css({color:e.settings.firstFontColor,backgroundColor:e.settings.firstBgColor})}),s.hover(function(){var t=o(this);t.css({color:e.settings.secondHoverFontColor,backgroundColor:e.settings.secondHoverBgColor}),t.parents("ul").first().prev().css({color:e.settings.firstHoverFontColor,backgroundColor:e.settings.firstHoverBgColor})},function(){var t=o(this);t.css({color:e.settings.secondFontColor,backgroundColor:e.settings.secondBgColor}),t.parents("ul").first().prev().css({color:e.settings.firstFontColor,backgroundColor:e.settings.firstBgColor})})},responsiveLayout:function(){var i=this,s=o(e).width(),n=o(".ve-menu-icon"),l=i.settings.animate;return s<=768?n.length?(t.hide(),n.show()):(t.hide(),t.after('<div class="ve-menu-icon"><div></div><div></div><div></div></div>'),(n=o(".ve-menu-icon")).css("marginTop",10).on("click",function(){o(".ve-menu-mask").length||o(".ve-menu-mobile").length||o('<div class="ve-menu-mask"></div>').css("background",i.settings.menuMaskColor).appendTo(".ve-menu").after('<ul class="ve-menu-mobile"><li class="ve-menu-close"><div></div></li>'+t.html()+"</ul>").next().find("ul, li, a").removeAttr("style"),l?(i.animate(o(".ve-menu-mask"),l,i.settings.speed,"open"),i.animate(o(".ve-menu-mobile"),l,i.settings.speed,"open")):(o(".ve-menu-mask").show(),o(".ve-menu-mobile").show()),o(".ve-menu-mobile > li").not(".ve-menu-close").find("ul").find("a").css({background:i.settings.mSecondBgColor,color:i.settings.mSecondFontColor}),o(".ve-menu-mobile > li").not(".ve-menu-close").unbind("click").on("click",function(e){l?o(this).find("ul").toggle(150):o(this).find("ul").toggle()}),o(".ve-menu-close").css("color",i.settings.closeIconColor).children("div").on("click",function(){l?(i.animate(o(".ve-menu-mask"),l,i.settings.speed,"close"),i.animate(o(".ve-menu-mobile"),l,i.settings.speed,"close")):(o(".ve-menu-mask").hide(),o(".ve-menu-mobile").hide())})}).children("div").css("background",i.settings.menuIconColor)):n.length&&(t.show(),n.hide()),i},supportFastClick:function(){if(this.isMobile)try{FastClick&&FastClick.attach(document.body)}catch(o){console.log("fastclick.js is not found.You are still using normal 'click'")}else this.setHoverCss();return this},animate:function(o,e,t,i){var s={},n={};switch(e){case"fade":"open"==i?(o.hide(),o.fadeIn(t)):"close"==i&&o.fadeOut(t);break;case"slide":o.stop(!0,!0),"open"==i?(s.height=0,n.height="100%"):"close"==i&&(s.height="100%",n.height=0),o.css(s).animate(n,t)}}},o.fn.menu=function(e){var t=new l(e);return t.setDefaultTheme().setFirstMenu().setSecondMenu().responsiveLayout().supportFastClick(),o(window).resize(function(o){t.responsiveLayout()}),this}}(jQuery,window),$("#play").on("click",function(){$("#video-placeholder").toggleClass("highlight")}),$(".two__step").on("click",function(){$("#video-placeholder").toggleClass("highlight")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkIiwib24iLCJ0b2dnbGVDbGFzcyIsInciLCIkZmlyc3RNZW51IiwiJGZpcnN0TGlua3MiLCJjaGlsZHJlbiIsIiRzZW5jb25kTGlua3MiLCJmaW5kIiwiaGFzU2Vjb25kIiwibGVuZ3RoIiwiTWVudSIsIm9wdGlvbnMiLCJ0aGlzIiwidGhlbWVDb2xvciIsImJsdWUiLCJmb250Q29sb3IiLCJiZ0NvbG9yIiwiaG92ZXJGb250Q29sb3IiLCJob3ZlckJnQ29sb3IiLCJkYXJrIiwiZGVmYXVsdHMiLCJmaXJzdEZvbnRTaXplIiwiZmlyc3RGb250Q29sb3IiLCJmaXJzdEJnQ29sb3IiLCJmaXJzdEhvdmVyRm9udENvbG9yIiwiZmlyc3RIb3ZlckJnQ29sb3IiLCJzZWNvbmRGb250U2l6ZSIsInNlY29uZEZvbnRDb2xvciIsInNlY29uZEJnQ29sb3IiLCJzZWNvbmRIb3ZlckZvbnRDb2xvciIsInNlY29uZEhvdmVyQmdDb2xvciIsImhlaWdodCIsIml0ZW1XaWR0aCIsIml0ZW1NYXJnaW4iLCJ0aGVtZSIsIm1lbnVJY29uQ29sb3IiLCJtZW51TWFza0NvbG9yIiwibUZpcnN0QmdDb2xvciIsIm1GaXJzdEZvbnRDb2xvciIsIm1TZWNvbmRCZ0NvbG9yIiwibVNlY29uZEZvbnRDb2xvciIsImNsb3NlSWNvbkNvbG9yIiwiYW5pbWF0ZSIsInNwZWVkIiwic2V0dGluZ3MiLCJleHRlbmQiLCJpc01vYmlsZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwicHJvdG90eXBlIiwic2V0RGVmYXVsdFRoZW1lIiwic2V0VGhlbWVDb2xvciIsImNzcyIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwic2V0SG92ZXJCZ0NvbG9yIiwibm9ybWFsQmdDb2xvciIsImhvdmVyIiwiJHRoaXMiLCJzZXRGaXJzdE1lbnUiLCJfdGhpcyIsImxpbmVIZWlnaHQiLCJmb250U2l6ZSIsInBhcmVudCIsImVhY2giLCJpbmRleCIsImVsIiwid2lkdGgiLCJub3QiLCJmaXJzdCIsIm1hcmdpbkxlZnQiLCJzZXRTZWNvbmRNZW51IiwidmFsIiwiJHNlY29uZE1lbnUiLCJuZXh0Iiwic2V0SG92ZXJDc3MiLCJwYXJlbnRzIiwicHJldiIsInJlc3BvbnNpdmVMYXlvdXQiLCJzY3JlZW5XaWR0aCIsIiRtZW51SWNvbiIsImhpZGUiLCJzaG93IiwiYWZ0ZXIiLCJhcHBlbmRUbyIsImh0bWwiLCJyZW1vdmVBdHRyIiwiYmFja2dyb3VuZCIsInVuYmluZCIsImUiLCJ0b2dnbGUiLCJzdXBwb3J0RmFzdENsaWNrIiwiRmFzdENsaWNrIiwiYXR0YWNoIiwiZG9jdW1lbnQiLCJib2R5IiwiY29uc29sZSIsImxvZyIsIiRlbGUiLCJ0eXBlIiwib3Blbk9yQ2xvc2UiLCJzdGFydFN0eWxlIiwiZW5kU3R5bGUiLCJmYWRlSW4iLCJmYWRlT3V0Iiwic3RvcCIsImZuIiwibWVudSIsIndpbmRvdyIsInJlc2l6ZSIsImV2ZW50IiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFDQUEsRUFBRSxXQUFXQyxHQUFHLFFBQVMsV0FDckJELEVBQUUsV0FBV0UsWUFBYSxlQUU5QkYsRUFBRSxhQUFhQyxHQUFHLFFBQVMsV0FDdkJELEVBQUUsYUFBYUUsWUFBYSxlQUVoQ0YsRUFBRSxhQUFhQyxHQUFHLFFBQVMsV0FDdkJELEVBQUUsYUFBYUUsWUFBYSxlQUVoQ0YsRUFBRSxhQUFhQyxHQUFHLFFBQVMsV0FDdkJELEVBQUUsYUFBYUUsWUFBYSxlQUVoQ0YsRUFBRSxpQkFBaUJDLEdBQUcsUUFBUyxXQUMzQkQsRUFBRSxZQUFZRSxZQUFhLFlBQzNCRixFQUFFLGNBQWNFLFlBQWEsYUFDN0JGLEVBQUUsaUJBQWlCRSxZQUFhLFlBQ2hDRixFQUFFLGVBQWVFLFlBQWEsZUFRbEMsU0FBVUYsRUFBR0csR0FHVCxJQUFJQyxFQUFhSixFQUFFLGVBQ2ZLLEVBQWNELEVBQVdFLFNBQVMsTUFBTUEsU0FBUyxLQUNqREMsRUFBZ0JILEVBQVdJLEtBQUssTUFBTUEsS0FBSyxLQUMzQ0Ms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RyxHQUFHQyxLQUFPLFNBQVNqRyxHQUNqQixJQUFJaUcsRUFBTyxJQUFJbEcsRUFBS0MsR0FTcEIsT0FSQWlHLEVBQUt6RCxrQkFDQVMsZUFDQVksZ0JBQ0FPLG1CQUNBYSxtQkFDTDdGLEVBQUU4RyxRQUFRQyxPQUFPLFNBQVNDLEdBQ3RCSCxFQUFLN0IscUJBRUZuRSxNQWpVZixDQW9VR29HLE9BQVFILFFBRVg5RyxFQUFFLFNBQVNDLEdBQUcsUUFBUyxXQUNuQkQsRUFBRyxzQkFBdUJFLFlBQWEsZUFFM0NGLEVBQUUsY0FBY0MsR0FBRyxRQUFTLFdBQ3hCRCxFQUFHLHNCQUF1QkUsWUFBYSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuJCgnLndpbl9fYicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy53aW5fX2MnKS50b2dnbGVDbGFzcyggXCJoaWdobGlnaHRcIiApO1xyXG59KTtcclxuJCgnLndpbl9fYi0yJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLndpbl9fYy0yJykudG9nZ2xlQ2xhc3MoIFwiaGlnaGxpZ2h0XCIgKTtcclxufSk7XHJcbiQoJy53aW5fX2ItMycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy53aW5fX2MtMycpLnRvZ2dsZUNsYXNzKCBcImhpZ2hsaWdodFwiICk7XHJcbn0pO1xyXG4kKCcud2luX19iLTQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcud2luX19jLTQnKS50b2dnbGVDbGFzcyggXCJoaWdobGlnaHRcIiApO1xyXG59KTtcclxuJCgnLmhlYWRfX3NlYXJjaCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy52ZS1tZW51JykudG9nZ2xlQ2xhc3MoIFwiaGlnaGRhcmtcIiApO1xyXG4gICAgJCgnLmhlYWRfX2NscycpLnRvZ2dsZUNsYXNzKCBcImhpZ2hsaWdodFwiICk7XHJcbiAgICAkKCcuaGVhZF9fc2VhcmNoJykudG9nZ2xlQ2xhc3MoIFwiaGlnaGRhcmtcIiApO1xyXG4gICAgJCgnLmhlYWRfX3NyY2gnKS50b2dnbGVDbGFzcyggXCJoaWdobGlnaHRcIiApO1xyXG59KTtcclxuXG4vKipcbiAqIEBhdXRob3IgemhhbmdzaWxlaSDlk43lupTlvI/lpLTpg6joj5zljZXlr7zoiKpcbiAqIEBkZXNjcmlwdGlvbiDku6PnoIHkvJjljJbvvIxcbiAqL1xuO1xuKGZ1bmN0aW9uKCQsIHcpIHtcblxuICAgIC8vIOmhtemdouWFg+e0oFxuICAgIHZhciAkZmlyc3RNZW51ID0gJCgnLnZlLW1lbnUtcGMnKSxcbiAgICAgICAgJGZpcnN0TGlua3MgPSAkZmlyc3RNZW51LmNoaWxkcmVuKCdsaScpLmNoaWxkcmVuKCdhJyksXG4gICAgICAgICRzZW5jb25kTGlua3MgPSAkZmlyc3RNZW51LmZpbmQoJ3VsJykuZmluZCgnYScpLFxuICAgICAgICBoYXNTZWNvbmQgPSAkZmlyc3RNZW51LmZpbmQoJ3VsJykubGVuZ3RoO1xuXG4gICAgLy8g6I+c5Y2V57G75p6E6YCg5pa55rOVXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIC8vIOiHquW4puS4u+mimDogZGFyayjpu5HlupXnmb3lrZcp44CBYmx1ZSjok53lupXnmb3lrZcpXG4gICAgICAgIHRoaXMudGhlbWVDb2xvciA9IHtcbiAgICAgICAgICAgIGJsdWU6IHtcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICBiZ0NvbG9yOiAnIzI5MzU0NycsXG4gICAgICAgICAgICAgICAgaG92ZXJGb250Q29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICBob3ZlckJnQ29sb3I6ICcjMTI2MGRlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhcms6IHtcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6ICcjOUQ5RDlEJyxcbiAgICAgICAgICAgICAgICBiZ0NvbG9yOiAnIzFGMUYxRicsXG4gICAgICAgICAgICAgICAgaG92ZXJGb250Q29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICBob3ZlckJnQ29sb3I6ICcjMDAwJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlZmF1bHRzID0ge1xuICAgICAgICAgICAgZmlyc3RGb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgZmlyc3RGb250Q29sb3I6IHRoaXMudGhlbWVDb2xvci5ibHVlLmZvbnRDb2xvcixcbiAgICAgICAgICAgIGZpcnN0QmdDb2xvcjogdGhpcy50aGVtZUNvbG9yLmJsdWUuYmdDb2xvcixcbiAgICAgICAgICAgIGZpcnN0SG92ZXJGb250Q29sb3I6IHRoaXMudGhlbWVDb2xvci5ibHVlLmhvdmVyRm9udENvbG9yLFxuICAgICAgICAgICAgZmlyc3RIb3ZlckJnQ29sb3I6IHRoaXMudGhlbWVDb2xvci5ibHVlLmhvdmVyQmdDb2xvcixcblxuICAgICAgICAgICAgc2Vjb25kRm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgIHNlY29uZEZvbnRDb2xvcjogdGhpcy50aGVtZUNvbG9yLmJsdWUuZm9udENvbG9yLFxuICAgICAgICAgICAgc2Vjb25kQmdDb2xvcjogdGhpcy50aGVtZUNvbG9yLmJsdWUuYmdDb2xvcixcbiAgICAgICAgICAgIHNlY29uZEhvdmVyRm9udENvbG9yOiB0aGlzLnRoZW1lQ29sb3IuYmx1ZS5ob3ZlckZvbnRDb2xvcixcbiAgICAgICAgICAgIHNlY29uZEhvdmVyQmdDb2xvcjogdGhpcy50aGVtZUNvbG9yLmJsdWUuaG92ZXJCZ0NvbG9yLFxuXG4gICAgICAgICAgICBoZWlnaHQ6IDU5LFxuICAgICAgICAgICAgaXRlbVdpZHRoOiAyMCxcbiAgICAgICAgICAgIGl0ZW1NYXJnaW46IDEsXG4gICAgICAgICAgICB0aGVtZTogJ2JsdWUnLFxuICAgICAgICAgICAgbWVudUljb25Db2xvcjogJyMwMDAnLFxuICAgICAgICAgICAgbWVudU1hc2tDb2xvcjogJyMwMDAnLFxuICAgICAgICAgICAgbUZpcnN0QmdDb2xvcjogJyMwMDAnLFxuICAgICAgICAgICAgbUZpcnN0Rm9udENvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICBtU2Vjb25kQmdDb2xvcjogJyMyMjInLFxuICAgICAgICAgICAgbVNlY29uZEZvbnRDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgY2xvc2VJY29uQ29sb3I6ICcjZmZmJyxcblxuICAgICAgICAgICAgYW5pbWF0ZTogZmFsc2UsXG4gICAgICAgICAgICBzcGVlZDogMjAwXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaXNNb2JpbGUgPSAhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0LipNb2JpbGUuKi8pOztcbiAgICB9XG5cbiAgICAvLyDljp/lnovpk77kuIrliqDlsZ7mgKflkozmlrnms5VcbiAgICBNZW51LnByb3RvdHlwZSA9IHtcbiAgICAgICAgc2V0RGVmYXVsdFRoZW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAvLyDorr7nva7pu5jorqTkuLvpophcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMuc2V0dGluZ3MudGhlbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdibHVlJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0VGhlbWVDb2xvcihfdGhpcy50aGVtZUNvbG9yLmJsdWUuZm9udENvbG9yLCBfdGhpcy50aGVtZUNvbG9yLmJsdWUuYmdDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICFfdGhpcy5pc01vYmlsZSAmJiBzZXRIb3ZlckJnQ29sb3IoX3RoaXMudGhlbWVDb2xvci5ibHVlLmhvdmVyRm9udENvbG9yLCBfdGhpcy50aGVtZUNvbG9yLmJsdWUuaG92ZXJCZ0NvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGFyayc6XG4gICAgICAgICAgICAgICAgICAgIHNldFRoZW1lQ29sb3IoX3RoaXMudGhlbWVDb2xvci5kYXJrLmZvbnRDb2xvciwgX3RoaXMudGhlbWVDb2xvci5kYXJrLmJnQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAhX3RoaXMuaXNNb2JpbGUgJiYgc2V0SG92ZXJCZ0NvbG9yKF90aGlzLnRoZW1lQ29sb3IuZGFyay5ob3ZlckZvbnRDb2xvciwgX3RoaXMudGhlbWVDb2xvci5kYXJrLmhvdmVyQmdDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIOiuvue9rum7mOiupOS4u+mimOminOiJslxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0VGhlbWVDb2xvcihmb250Q29sb3IsIGJnQ29sb3IpIHtcbiAgICAgICAgICAgICAgICAkZmlyc3RMaW5rcy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogZm9udENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJnQ29sb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkc2VuY29uZExpbmtzLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBmb250Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmdDb2xvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g6K6+572u6byg5qCH5ruR6L+H6IOM5pmv6aKc6ImyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRIb3ZlckJnQ29sb3IoZm9udENvbG9yLCBiZ0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbEZvbnRDb2xvciwgbm9ybWFsQmdDb2xvcjtcbiAgICAgICAgICAgICAgICAkZmlyc3RNZW51LmZpbmQoJ2EnKS5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbEZvbnRDb2xvciA9ICR0aGlzLmNzcygnY29sb3InKTtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsQmdDb2xvciA9ICR0aGlzLmNzcygnYmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogZm9udENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiZ0NvbG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogbm9ybWFsRm9udENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBub3JtYWxCZ0NvbG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGaXJzdE1lbnU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICRmaXJzdExpbmtzLmNzcyh7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBfdGhpcy5zZXR0aW5ncy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogX3RoaXMuc2V0dGluZ3MuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogX3RoaXMuc2V0dGluZ3MuZmlyc3RGb250U2l6ZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogX3RoaXMuc2V0dGluZ3MuZmlyc3RGb250Q29sb3IsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfdGhpcy5zZXR0aW5ncy5maXJzdEJnQ29sb3JcbiAgICAgICAgICAgIH0pLnBhcmVudCgnbGknKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgJHRoaXMud2lkdGgoJHRoaXMud2lkdGgoKSArIF90aGlzLnNldHRpbmdzLml0ZW1XaWR0aCk7IC8vIOS4gOe6p+iPnOWNleWuveW6plxuICAgICAgICAgICAgfSkubm90KCRmaXJzdE1lbnUuY2hpbGRyZW4oJ2xpJykuZmlyc3QoKSkuY3NzKHtcbiAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiB0aGlzLnNldHRpbmdzLml0ZW1NYXJnaW4gKyAncHgnIC8vIOiPnOWNlemXtOmamVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNlY29uZE1lbnU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChoYXNTZWNvbmQpIHtcbiAgICAgICAgICAgICAgICAkc2VuY29uZExpbmtzLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3RoaXMuc2V0dGluZ3MuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiBfdGhpcy5zZXR0aW5ncy5oZWlnaHQgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogX3RoaXMuc2V0dGluZ3Muc2Vjb25kRm9udFNpemUsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBfdGhpcy5zZXR0aW5ncy5zZWNvbmRGb250Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogX3RoaXMuc2V0dGluZ3Muc2Vjb25kQmdDb2xvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIOS6jOe6p+iPnOWNleWuveW6plxuICAgICAgICAgICAgICAgICQuZWFjaCgkZmlyc3RMaW5rcywgZnVuY3Rpb24oaW5kZXgsIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHNlY29uZE1lbnUgPSAkKHRoaXMpLm5leHQoJ3VsJyk7XG4gICAgICAgICAgICAgICAgICAgICRzZWNvbmRNZW51LmNzcygndG9wJywgX3RoaXMuc2V0dGluZ3MuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzZWNvbmRNZW51LndpZHRoKCkgKyBfdGhpcy5zZXR0aW5ncy5pdGVtV2lkdGggPCAkZmlyc3RMaW5rcy53aWR0aCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2Vjb25kTWVudS53aWR0aCgkZmlyc3RMaW5rcy53aWR0aCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWNvbmRNZW51LndpZHRoKCRzZWNvbmRNZW51LndpZHRoKCkgKyBfdGhpcy5zZXR0aW5ncy5pdGVtV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhvdmVyQ3NzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAvLyDkuIDnuqfoj5zljZXmoLflvI9cbiAgICAgICAgICAgICRmaXJzdExpbmtzLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IF90aGlzLnNldHRpbmdzLmZpcnN0SG92ZXJGb250Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogX3RoaXMuc2V0dGluZ3MuZmlyc3RIb3ZlckJnQ29sb3JcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogX3RoaXMuc2V0dGluZ3MuZmlyc3RGb250Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogX3RoaXMuc2V0dGluZ3MuZmlyc3RCZ0NvbG9yXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8g5LqM57qn6I+c5Y2V5qC35byPXG4gICAgICAgICAgICAkc2VuY29uZExpbmtzLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgJHRoaXMuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IF90aGlzLnNldHRpbmdzLnNlY29uZEhvdmVyRm9udENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF90aGlzLnNldHRpbmdzLnNlY29uZEhvdmVyQmdDb2xvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICR0aGlzLnBhcmVudHMoJ3VsJykuZmlyc3QoKS5wcmV2KCkuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IF90aGlzLnNldHRpbmdzLmZpcnN0SG92ZXJGb250Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogX3RoaXMuc2V0dGluZ3MuZmlyc3RIb3ZlckJnQ29sb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgJHRoaXMuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IF90aGlzLnNldHRpbmdzLnNlY29uZEZvbnRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfdGhpcy5zZXR0aW5ncy5zZWNvbmRCZ0NvbG9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHRoaXMucGFyZW50cygndWwnKS5maXJzdCgpLnByZXYoKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogX3RoaXMuc2V0dGluZ3MuZmlyc3RGb250Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogX3RoaXMuc2V0dGluZ3MuZmlyc3RCZ0NvbG9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2l2ZUxheW91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHNjcmVlbldpZHRoID0gJCh3KS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICRtZW51SWNvbiA9ICQoJy52ZS1tZW51LWljb24nKSxcbiAgICAgICAgICAgICAgICBhbmltYXRlID0gX3RoaXMuc2V0dGluZ3MuYW5pbWF0ZTtcbiAgICAgICAgICAgIGlmIChzY3JlZW5XaWR0aCA8PSA3NjgpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRtZW51SWNvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g6ZqQ6JeP5Y6f6I+c5Y2VXG4gICAgICAgICAgICAgICAgICAgICRmaXJzdE1lbnUuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyDmt7vliqDoj5zljZXmjInpkq5cbiAgICAgICAgICAgICAgICAgICAgJGZpcnN0TWVudS5hZnRlcignPGRpdiBjbGFzcz1cInZlLW1lbnUtaWNvblwiPjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAkbWVudUljb24gPSAkKCcudmUtbWVudS1pY29uJyk7XG4gICAgICAgICAgICAgICAgICAgICRtZW51SWNvbi5jc3MoJ21hcmdpblRvcCcsIDEwKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWIm+W7uumBrue9qeWSjOS4gOOAgeS6jOe6p+iPnOWNlVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJCgnLnZlLW1lbnUtbWFzaycpLmxlbmd0aCAmJiAhJCgnLnZlLW1lbnUtbW9iaWxlJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzxkaXYgY2xhc3M9XCJ2ZS1tZW51LW1hc2tcIj48L2Rpdj4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcygnYmFja2dyb3VuZCcsIF90aGlzLnNldHRpbmdzLm1lbnVNYXNrQ29sb3IpLmFwcGVuZFRvKCcudmUtbWVudScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWZ0ZXIoJzx1bCBjbGFzcz1cInZlLW1lbnUtbW9iaWxlXCI+PGxpIGNsYXNzPVwidmUtbWVudS1jbG9zZVwiPjxkaXY+PC9kaXY+PC9saT4nICsgJGZpcnN0TWVudS5odG1sKCkgKyAnPC91bD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5leHQoKS5maW5kKCd1bCwgbGksIGEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyDlsIbliqjnlLvpgJ/luqborr7kuLrmj5Lku7bnmoTlj4LmlbBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDliqjnlLvmmL7npLrkuIDnuqfoj5zljZXlkozpga7nvanlsYJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlKCQoJy52ZS1tZW51LW1hc2snKSwgYW5pbWF0ZSwgX3RoaXMuc2V0dGluZ3Muc3BlZWQsICdvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFuaW1hdGUoJCgnLnZlLW1lbnUtbW9iaWxlJyksIGFuaW1hdGUsIF90aGlzLnNldHRpbmdzLnNwZWVkLCAnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy52ZS1tZW51LW1hc2snKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy52ZS1tZW51LW1vYmlsZScpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDkuoznuqfoj5zljZXmoLflvI9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcudmUtbWVudS1tb2JpbGUgPiBsaScpLm5vdCgnLnZlLW1lbnUtY2xvc2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgndWwnKS5maW5kKCdhJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcyh7IC8vICDkuoznuqfoj5zljZXmoLflvI9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IF90aGlzLnNldHRpbmdzLm1TZWNvbmRCZ0NvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IF90aGlzLnNldHRpbmdzLm1TZWNvbmRGb250Q29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDkuIDnuqfoj5zljZXngrnlh7vkuovku7bvvIzmr4/mrKHmiZPlvIDkuIDnuqfoj5zljZXml7bph43mlrDnu5HlrprvvIzpmLLmraLph43lpI1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcudmUtbWVudS1tb2JpbGUgPiBsaScpLm5vdCgnLnZlLW1lbnUtY2xvc2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudW5iaW5kKCdjbGljaycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmmoLml7bkuI3mlK/mjIHoh6rlrprkuYnliqjnlLvvvIzpu5jorqTkuLp0b2dnbGXliqjmlYhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8g5re75Yqg6Ieq5a6a5LmJ5Yqo55S7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDkuoznuqfoj5zljZXliqjnlLtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCd1bCcpLnRvZ2dsZSgxNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ3VsJykudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWz6Zet5oyJ6ZKu5qC35byP44CB54K55Ye75LqL5Lu2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnZlLW1lbnUtY2xvc2UnKS5jc3MoJ2NvbG9yJywgX3RoaXMuc2V0dGluZ3MuY2xvc2VJY29uQ29sb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbignZGl2JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yqo55S757uT5p2fXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFuaW1hdGUoJCgnLnZlLW1lbnUtbWFzaycpLCBhbmltYXRlLCBfdGhpcy5zZXR0aW5ncy5zcGVlZCwgJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYW5pbWF0ZSgkKCcudmUtbWVudS1tb2JpbGUnKSwgYW5pbWF0ZSwgX3RoaXMuc2V0dGluZ3Muc3BlZWQsICdjbG9zZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcudmUtbWVudS1tYXNrJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy52ZS1tZW51LW1vYmlsZScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNzcygnYmFja2dyb3VuZCcsIF90aGlzLnNldHRpbmdzLm1lbnVJY29uQ29sb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRmaXJzdE1lbnUuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkbWVudUljb24uc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCRtZW51SWNvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGZpcnN0TWVudS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICRtZW51SWNvbi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHN1cHBvcnRGYXN0Q2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGUpIHsgLy8g5Zyo56e75Yqo56uv5omT5byA6aG16Z2i77yM5bCG5LqL5Lu26Kem5Y+R5pS55Li6Y2xpY2tcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoRmFzdENsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBGYXN0Q2xpY2suYXR0YWNoKGRvY3VtZW50LmJvZHkpOyAvLyDmlK/mjIFmYXN0Y2xpY2tcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Zhc3RjbGljay5qcyBpcyBub3QgZm91bmQuWW91IGFyZSBzdGlsbCB1c2luZyBub3JtYWwgXFwnY2xpY2tcXCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyDlnKhQQ+err+aJk+W8gOmhtemdou+8jOS6i+S7tuinpuWPkeS7jeS4umhvdmVyXG4gICAgICAgICAgICAgICAgLy8gaWYgKGhhc1NlY29uZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SG92ZXJDc3MoKTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oJGVsZSwgdHlwZSwgc3BlZWQsIG9wZW5PckNsb3NlKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRTdHlsZSA9IHt9LFxuICAgICAgICAgICAgICAgIGVuZFN0eWxlID0ge307XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhZGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAob3Blbk9yQ2xvc2UgPT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxlLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGUuZmFkZUluKHNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcGVuT3JDbG9zZSA9PSAnY2xvc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxlLmZhZGVPdXQoc3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICRlbGUuY3NzKCdvcGFjaXR5JywgMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0U3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVuZFN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzbGlkZSc6XG4gICAgICAgICAgICAgICAgICAgICRlbGUuc3RvcCh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5PckNsb3NlID09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRTdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kU3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wZW5PckNsb3NlID09ICdjbG9zZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0U3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kU3R5bGUuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkZWxlLmNzcyhzdGFydFN0eWxlKS5hbmltYXRlKGVuZFN0eWxlLCBzcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5bCG5o+S5Lu25oyC5YiwalF1ZXJ55LiL5bm25Yid5aeL5YyWXG4gICAgJC5mbi5tZW51ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgbWVudSA9IG5ldyBNZW51KG9wdGlvbnMpO1xuICAgICAgICBtZW51LnNldERlZmF1bHRUaGVtZSgpXG4gICAgICAgICAgICAuc2V0Rmlyc3RNZW51KClcbiAgICAgICAgICAgIC5zZXRTZWNvbmRNZW51KClcbiAgICAgICAgICAgIC5yZXNwb25zaXZlTGF5b3V0KClcbiAgICAgICAgICAgIC5zdXBwb3J0RmFzdENsaWNrKCk7XG4gICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIG1lbnUucmVzcG9uc2l2ZUxheW91dCgpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn0pKGpRdWVyeSwgd2luZG93KVxuXG4kKCcjcGxheScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCAnI3ZpZGVvLXBsYWNlaG9sZGVyJyApLnRvZ2dsZUNsYXNzKCBcImhpZ2hsaWdodFwiICk7XG59KTtcbiQoJy50d29fX3N0ZXAnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCggJyN2aWRlby1wbGFjZWhvbGRlcicgKS50b2dnbGVDbGFzcyggXCJoaWdobGlnaHRcIiApO1xufSk7XG4iXX0=
